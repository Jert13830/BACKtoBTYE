{% block style %}
	<link rel="stylesheet" href="/assets/css/computerForm.css">
{% endblock %}
<div class="formBk1">
	<div class="formBk2 {{bkgClass}}">
		<form id="computerForm" action="{{ transaction == 'update' ? '/updateComputer/' ~ data.id_ordinateur ~ '?bg='~ bkgClass : '/addComputer' }}" method="post">
			<input type="text" name="id_ordinateur" id="id_ordinateur" hidden value="{{ data.id_ordinateur  }}">
			<input type="text" id="originInput" hidden value="{{ origin|default('computerList')}}">
			<div id="formDiv">
				<div id="formLeft">
					<div class="errNinput">
						<div class="formInputLine">
							<div class="manufacturerLogo">
								<div>
									<img id="computerManuLogo" name="computerManuLogo" src="/assets/images/logos/{{data.fabricantOrdinateur.nom}}.webp" alt="Logo" onerror="this.src='/assets/images/logos/defaultLogo.webp'">
								</div>
							</div>
							<!-- END OF fomanuLogoHolder -->
							<div>
								<input {{ origin ? 'readonly' : '' }} type="text" name="nom" maxlength="15" id="computer" pattern="^(?=.{1,15}$)[A-Za-z0-9][A-Za-z0-9 ./_+-]*$" placeholder="Computer ID (15 max)" required value="{{data.nom|default('') }}"/>
							</div>
						</div>
						<p id="computerNameErrors">{{errors.computerName}}</p>
					</div>
					<!-- END OF formInputLine -->
					<div class="errNinput">
						<div class="formInputLine" id="manuName">
							<div>
								<label for="computerManuName">Manufacturer :
								</label>
							</div>
							<div>
								<div>
									{% if not origin %}
										<select id="computerManufacturerSelect" name="fabricantId" onchange="changeLogo();" required></select>
									{% else %}
										<input id="previousComputerManufacturerName" type="text" {{ origin ? 'readonly' : '' }} {{ origin ? '' : 'hidden' }} value="{{ data.fabricantOrdinateur.nom }}">
									{% endif %}
									<input id="previousComputerManufacturer" type="text" hidden value="{{ data.id_fab_ordinateur|default('0') }}">
									{% if not origin %}
										<a onclick="saveFormState('#computerForm', 'computerForm'); window.location.href='/showComputerManufacturers'">
											<span class="plus-label" id="addComputerManu">
												<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
											</span>
										</a>
									{% endif %}
								</div>
							</div>
						</div>
						<p class="manufacturerErrors"></p>
					</div>
					<!-- END OF formInputLine manuName -->

					<div class="formInputLine">
						<div>
							<label for="annee">Year :
							</label>
						</div>
						<div>
							<input {{ origin ? 'readonly' : '' }} type="number" min="1970" max="2000" step="1" id="annee" name="annee" required value="{{ data.annee|default('1980') }}"/>
						</div>
					</div>

					<div class="formInputLine">
						<div>
							<label for="cpuType">CPU type :
							</label>
						</div>
						<div><input {{ origin ? 'readonly' : '' }} type="number" min="4" max="16" step="0.5" id="cpuType" name="cpuType" required value="{{ data.cpuType|default('8') }}"/>
							<span>
								bit</span>
						</div>
					</div>
					<!-- END OF formInputLine -->

					<div class="errNinput">
						<div class="formInputLine">
							<div>
								<label for="cpu">CPU :
								</label>
							</div>
							<div>
								<input {{ origin ? 'readonly' : '' }} type="text" name="cpu" id="cpu" required value="{{ data.cpu|default('') }}"/>
							</div>
						</div>
						{% if errors.cpu %}
							<p>{{errors.cpu}}</p>
						{% endif %}
					</div>

					<div class="formInputLine">
						<div>
							<label for="clockSpeed">Clock speed :
							</label>
						</div>
						<div><input {{ origin ? 'readonly' : '' }} type="number" min="1" max="20" step="1" id="clockSpeed" name="clockSpeed" required value="{{ data.vitesseHorloge|default('4') }}"/><span>
								MHz</span>
						</div>
					</div>
					<!-- END OF formInputLine -->

					<div class="formInputLine">
						<div>
							<label for="ram">RAM :
							</label>
						</div>
						<div><input {{ origin ? 'readonly' : '' }} type="number" min="1" max="1024" step="1" id="ram" name="ram" required value="{{ data.ram|default('64') }}"/><span>
								K</span>
						</div>
					</div>
					<!-- END OF formInputLine -->

					<div class="formInputLine">
						<div>
							<label for="ram">ROM :
							</label>
						</div>
						<div><input {{ origin ? 'readonly' : '' }} type="number" min="1" max="1024" step="1" id="rom" name="rom" value="{{ data.rom|default('32') }}" required/><span>
								K</span>
						</div>
					</div>
					<!-- END OF formInputLine -->

					<div class="errNinput">
						<div class="formInputLine">
							<div>
								<label for="graphique">Graphics :
								</label>
							</div>
							<div>
								<input {{ origin ? 'readonly' : '' }} type="text" name="graphique" id="graphique" required value="{{data.graphique|default('') }}"/>

							</div>
						</div>
						{% if errors.graphics %}
							<p>{{errors.graphics}}</p>
						{% endif %}
					</div>

					<div class="formInputLine">
						<div>
							<label for="nbColours">N° Colours :
							</label>
						</div>
						<div>
							<input {{ origin ? 'readonly' : '' }} type="number" min="1" max="100000" step="1" id="nbColours" name="nbColours" value="{{ data.nbCouleurs|default('256') }}" required/>
						</div>
					</div>
					<div class="errNinput">
						<div class="formInputLine">
							<div>
								<label for="son">Sound :
								</label>
							</div>
							<div>
								<input {{ origin ? 'readonly' : '' }} type="text" name="son" id="son" required value="{{ data.son|default('') }}"/>

							</div>
						</div>
						{% if errors.sound %}
							<p>{{errors.sound}}</p>
						{% endif %}
					</div>

					<div class="formInputLine">
						<div>
							<label for="successor">Successor :
							</label>
						</div>
						<div>
							{% if not origin %}
								<select id="successor" name="successor" value="{{ data.successeur|default('0') }}"></select>
							{% else %}
								<input id="previousSuccessorName" type="text" {{ origin ? 'readonly' : '' }} {{ origin ? '' : 'hidden' }} value="{{ successeur.nom }}">
							{% endif %}
							<input id="previousSuccessor" type="text" hidden value="{{ data.successeur|default('0') }}">
							<p id="successorErrors"></p>
						</div>
					</div>
				</div>
				<!-- END OF formLeft -->
				<div id="formRight">
					<div id="computerPhotoHolder">
						<div id="computerProfileImage">
							<img id="computerPhoto" src="/assets/images/computers/{{data.nom}}.webp" alt="Computer image" onerror="this.src='/assets/images/computers/defaultComputer.webp'">
						</div>

						<input {{ origin ? 'disabled' : '' }} id="uploadImageComputer" type="file" accept="image/jpeg, image/png, image/jpg, image/webp" name="filePath" id="filePath" class="computerImage" hidden>
					</div>

					<!-- END OF computerProfileImage -->
					<div id="computerInformation">
						<div class="textBk1">
							<textarea {{ origin ? 'readonly' : '' }} id="computerInfo" name="info" rows="10" cols="50" placeholder="Computer Information">{{ data.info|default('') }}</textarea>
						</div>
					</div>
					{% if user %}
						<div id="scoringBtn">
							<div id="rarity">
								<div>
									<p>Rarity</p>
								</div>
								<input type="hidden" name="rarityRating" value="">
								<div class="stars">
									<ul id="rarityStars">
										<li>★</li>
										<li>★</li>
										<li>★</li>
										<li>★</li>
										<li>★</li>
									</ul>
								</div>
							</div>
							<div id="popularity">
								<div>
									<p>Popularity</p>
								</div>
								<input type="hidden" name="popularityRating" value="">
								<div class="stars">
									<ul id="popularityStars">
										<li>★</li>
										<li>★</li>
										<li>★</li>
										<li>★</li>
										<li>★</li>
									</ul>
								</div>
							</div>
						</div>
					{% endif %}
					{% if not origin %}
						<!-- END OF scoringBtn-->
						<div class="formBtnDiv">
							<div>
								{% if transaction == 'update' %}
									<button class="btnForm" type="submit" id="updateComputerSubmit" name="updateComputerSubmit">Update</button>
								{% else %}
									<button class="btnForm" type="submit" id="addComputerSubmit" name="addComputerSubmit">Add</button>
								{% endif %}
							</div>
							<div>
								<button class="btnForm" type="reset" id="btnReset" value="reset">Reset</button>

							</div>
						</div>
						<!-- END OF formBtnDiv -->
					</div>
				{% endif %}
				<!-- END OF formRight -->
			</div>
			<!-- END OF formDiv -->
		</form>
		<script>

			document.getElementById("computerManufacturerSelect").value = "Amstrad";
		</script>
	</div>
	<!-- END OF formBK2 -->
</div>
<!-- END OF formBK1 -->

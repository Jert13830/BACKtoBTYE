{% block style %}
	<link rel="stylesheet" href="/assets/css/softwareForm.css">
{% endblock %}
<div class="softwareFormDiv">
	<form id="softwareForm" action="/addSoftware" method="post">
		<div id="formContent">
			<div id="detailsContent">
				<div id="details">
					<div id="photo">
						<img id="softwareManufacturerLogo" name="softwareManufacturerLogo" src="/assets/images/logos/{{data.fabricantLogiciel.nom}}.webp" alt="Logo" onerror="this.src='/assets/images/logos/defaultLogo.webp'" width="80">
					</div>
					<div id="softwareNameDiv">
						<input type="text" name="softwareName" id="softwareName" required pattern="^(?=.{1,30}$)[A-Za-zÀ-ÖØ-öø-ÿ0-9][A-Za-zÀ-ÖØ-öø-ÿ0-9 .,'&\-]*$" placeholder="Software name">
					</div>
					<div>
						Company :
					</div>
					<div id="plusBtn">
						<select id="manufacturerSelect" name="manufacturerSelect" aria-label="Select manufacturer" onchange="changeLogo();" required></select>
						<input id="previousManufacturer" type="text" hidden value="{{ data.id_fab_logiciel|default('0') }}">
						<a onclick="saveFormState('#softwareForm', 'softwareForm'); window.location.href='/showSoftwareManufacturers'">
							<span class="plus-label" id="addSoftwarerManu">
								<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
							</span>
						</a>
					</div>
					
					<div>
						Year :
					</div>
					<div>
						<input {{ origin ? 'readonly' : '' }} type="number" min="1970" max="{{ "now"|date("Y") }}" step="1" id="manufacturerYear" name="manufacturerYear" required value="{{ data.annee|default('1980') }}"/>
					</div>
					<div>
						Computers :
					</div>
					<div>
						<select id="computerSelect" name="computerSelect" aria-label="Select computers" multiple maxlength="30" required></select>
						<input id="previousComputer" type="text" hidden value="{{ data.id_fab_ordinateur|default('0') }}">
					</div>
					<div>
						Language :
					</div>
					<div>
						<select id="softwareLanguageSelect" name="language" aria-label="Select language" required>
							<option value="en">English</option>
							<option value="fr">Français</option>
							<option value="de">Deutsch</option>
							<option value="es">Español</option>
							<option value="it">Italiano</option>
							<option value="pt">Português</option>
						</select>
					</div>

				</div>
				<div id="softwarePhotoHolder">
					<div id="softwareProfileImage">
						<img id="softwarePhoto" src="/assets/images/software/{{data.nom}}.webp" alt="Software image" onerror="this.src='/assets/images/software/defaultSoftware.webp'">
					</div>

					<input {{ origin ? 'disabled' : '' }} id="uploadImageSoftware" type="file" accept="image/jpeg, image/png, image/jpg, image/webp" name="uploadImageSoftware" class="sofwareImage" hidden>
				</div>
			</div>
			<div id="info">
				<textarea {{ origin ? 'readonly' : '' }} id="detailsInfo" name="detailsInfo" rows="4" cols="60" placeholder="Software Information">{{ data.info|default('') }}</textarea>
			</div>
			<div id="link">
				<input type="url" name="softwareLink" id="softwareLink" placeholder="Enter link URL">
			</div>
			<div class="formBtnDiv">
				<div>
					{% if transaction == 'update' %}
						<button class="btnForm" type="submit" id="updateComputerSubmit" name="updateComputerSubmit">Update</button>
					{% else %}
						<button class="btnForm" type="submit" id="addComputerSubmit" name="addComputerSubmit">Add</button>
					{% endif %}
				</div>
				<div>
					<button class="btnForm" type="reset" id="btnReset" value="reset">Reset</button>

				</div>
			</div>
			
		</form>
		<div><p class="manufacturerErrors"></p></div>
	</div>
